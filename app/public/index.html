<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/omen_logo_thumbnail.png" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <meta
      name="theme-color"
      content="#000000"
    />
    <link
      rel="manifest"
      href="%PUBLIC_URL%/manifest.json"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,600&display=swap"
    />
    <title>Omen</title>
    <base href="/">
    <style>
      body,
      html {
        margin: 0;
        padding: 0;
      }

      #root:empty {
        align-items: center;
        display: flex;
        height: 100vh;
        justify-content: center;
        width: 100vw;
      }

      #root:empty:before {
        animation: rotate 2s linear infinite;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMjIuNSIgY3k9IjIyLjUiIHI9IjIxIiBzdHJva2U9IiNEQ0RGRjIiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0yMi41IDQzLjVjMTEuNTk4IDAgMjEtOS40MDIgMjEtMjFzLTkuNDAyLTIxLTIxLTIxLTIxIDkuNDAyLTIxIDIxIiBzdHJva2U9IiM1QzZCQzAiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==');
        content: '';
        flex-grow: 0;
        flex-shrink: 0;
        height: 45px;
        width: 45px;
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }

        to {
          transform: rotate(360deg);
        }
      }

    </style>
    <script>
      (function () {
        const { pathname, hostname, protocol } = window.location

        // redirect to https on non-localhost
        if (protocol === 'http:' && hostname !== 'localhost') {
          window.location.protocol = 'https'
          return
        }

        const ipfsMatch = /.*\/Qm\w{44}/.exec(pathname)
        changeBaseHref(ipfsMatch)
        
        window.IS_IPFS = !!ipfsMatch || hostname.endsWith('.eth.link')

        function changeBaseHref(match) {
          const base = document.querySelector('base')

          if (match && match.length > 0) {
            let baseHref = match[0]
            if (!baseHref.endsWith('/')) baseHref += '/'

            base.href = baseHref
          }
        }

      })();
    </script>
  </head>

  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <div id="portalContainer"></div>
  </body>

</html>
